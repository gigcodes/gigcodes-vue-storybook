import{u as ee,r as v,i as N,c as u,a as te,o as ae,b as h,m as z,t as E,d as r,e as k,f as W,g as M,w as P,h as T,n as se,j as le,k as c}from"./vue.esm-bundler-9eb4c8aa.js";import{S as G,D as ie,C as ue}from"./constant-dee45eb4.js";import{l as m}from"./lodash-9252d092.js";import{c as ne}from"./index-778010da.js";const oe=["disabled","value"],re=le({inheritAttrs:!1}),fe="input",de=Object.assign(re,{__name:"Input",props:{asElement:{type:String,default:"input"},type:{type:String,default:"text"},size:{type:String,validator(a){return[G.LG,G.SM,G.MD].includes(a)}},invalid:Boolean,placeholder:String,modelValue:[String,Number,Date],value:[String,Number,Date],unstyle:Boolean,disabled:Boolean,form:Object,field:Object,focus:Boolean},emits:["update:modelValue","focus","blur","change","keydown","click","keyup","input"],setup(a,{expose:Z,emit:n}){var O,j;const t=a,{class:w,style:S,...H}=ee(),C={click:e=>n("click",e),keydown:e=>n("keydown",e),keyup:e=>n("keyup",e),focus:e=>n("focus",e),blur:e=>n("blur",e),input:e=>{n("update:modelValue",e.target.value),n("input",e)},change:e=>n("change",e)},B=v(0),D=v(0),{themeColor:y,controlSize:U,primaryColorLevel:x,direction:I}=N("config",ie),q=(O=N("form",{}))==null?void 0:O.size,J=(j=N("inputGroup",{}))==null?void 0:j.size,R=u(()=>t.size||J||q||U),g=u(()=>t.type==="textarea"),V=u(()=>{let e=!1;if(!m.isEmpty(t.form)){const{touched:i,errors:s}=t.form,o=m.get(i,t.field.name),b=m.get(s,t.field.name);e=o&&b}return typeof t.invalid=="boolean"&&(e=t.invalid),e}),l=te(),K=u(()=>`input-${R.value} h-${ue[R.value]}`),Q=u(()=>`focus:ring-${y}-${x} focus-within:ring-${y}-${x} focus-within:border-${y}-${x} focus:border-${y}-${x}`),X=u(()=>`input-wrapper ${t.prefix||t.suffix?w:""}`),Y=u(()=>ne(fe,!g.value&&K.value,!V.value&&Q.value,!l.prefix&&!l.suffix?w:"",t.disabled&&"input-disabled",V.value&&"input-invalid",g.value&&"input-textarea")),f=v(null),d=v(null),_=()=>{var s,o;if(!f.value&&!d.value)return;const e=(s=f==null?void 0:f.value)==null?void 0:s.offsetWidth,i=(o=d==null?void 0:d.value)==null?void 0:o.offsetWidth;m.isNil(e)&&m.isNil(i)||(e&&(B.value=e),i&&(D.value=i))};ae(()=>{_(),t.focus&&p.value.focus()});const A=e=>.0625*e,L=u(()=>{const e=`${A(B.value)+1}rem`,i=`${A(D.value)+1}rem`,s={};return I==="ltr"&&(l.prefix&&(s.paddingLeft=e),l.suffix&&(s.paddingRight=i)),I==="rtl"&&(l.prefix&&(s.paddingRight=e),l.suffix&&(s.paddingLeft=i)),s}),$=u(()=>({className:t.unstyle?"":Y.value,disabled:t.disabled,type:t.type,placeholder:t.placeholder,...t.field,...H})),p=v();return Z({prefixNode:f,suffixNode:d,focus:()=>p.value.focus()}),(e,i)=>{var s,o,b,F;return g.value?(c(),h("textarea",z({key:0,ref_key:"inputRef",ref:p},$.value,{disabled:a.disabled,value:a.modelValue??a.value,style:r(S)},E(C,!0)),null,16,oe)):((s=r(l))!=null&&s.prefix||(o=r(l))!=null&&o.suffix)&&!g.value?(c(),h("span",{key:1,class:se(X.value)},[(b=r(l))!=null&&b.prefix?(c(),h("div",{key:0,ref_key:"prefixNode",ref:f,class:"input-suffix-start"},[k(e.$slots,"prefix")],512)):W("",!0),(c(),M(T(a.asElement),z({ref_key:"inputRef",ref:p},$.value,{value:a.modelValue??a.value,disabled:a.disabled,style:{...L.value,...r(S)}},E(C)),{default:P(()=>[k(e.$slots,"default")]),_:3},16,["value","disabled","style"])),(F=r(l))!=null&&F.suffix?(c(),h("div",{key:1,ref_key:"suffixNode",ref:d,class:"input-suffix-end"},[k(e.$slots,"suffix")],512)):W("",!0)],2)):(c(),M(T(a.asElement),z({key:2,ref_key:"inputRef",ref:p},$.value,{disabled:a.disabled,value:a.modelValue??a.value,style:{...L.value,...r(S)}},E(C)),{default:P(()=>[k(e.$slots,"default")]),_:3},16,["disabled","value","style"]))}}}),ye=de;export{ye as I};
//# sourceMappingURL=Input-2e53440c.js.map
