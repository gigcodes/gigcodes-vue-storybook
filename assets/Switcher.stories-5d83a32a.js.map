{"version":3,"file":"Switcher.stories-5d83a32a.js","sources":["../../src/components/ui/Switcher/Switcher.vue"],"sourcesContent":["<script setup>\nimport { computed, inject, ref, useAttrs, watch } from 'vue'\nimport { DEFAULT_CONFIG } from '../utils/constant.js'\nimport classNames from 'classnames'\nimport Spinner from '../Spinner'\n\ndefineOptions({\n    inheritAttrs: false,\n})\nconst props = defineProps({\n    modelValue: Boolean,\n    disabled: Boolean,\n    defaultChecked: Boolean,\n    isLoading: Boolean,\n    color: String,\n    name: String,\n    readOnly: Boolean,\n    checkedContent: String,\n    unCheckedContent: String,\n})\n\nconst emits = defineEmits(['update:modelValue'])\n\nconst { themeColor, primaryColorLevel } = inject('config', DEFAULT_CONFIG)\n\nconst switcherChecked = ref(props.defaultChecked || props.modelValue)\n\nwatch(\n    () => props.modelValue,\n    (value) => {\n        if (typeof value !== 'undefined') {\n            switcherChecked.value = value\n        }\n    }\n)\n\nconst getControlProps = () => {\n    let checkedValue = switcherChecked.value\n\n    let checked = { value: checkedValue }\n\n    if (props.defaultChecked) {\n        checked.defaultChecked = props.defaultChecked\n    }\n    return checked\n}\n\nconst controlProps = computed(getControlProps)\n\nconst switcherColor = computed(() => props.color || `${themeColor}-${primaryColorLevel}`)\n\nconst { class: className, ...restAttrs } = useAttrs()\n\nconst handleChange = () => {\n    const nextChecked = !switcherChecked.value\n    if (props.disabled || props.readOnly || props.isLoading) {\n        return\n    }\n    if (typeof props.modelValue === 'undefined') {\n        emits('update:modelValue', nextChecked)\n    } else {\n        emits('update:modelValue', !switcherChecked.value)\n    }\n    switcherChecked.value = nextChecked\n}\n\nconst switcherClass = computed(() =>\n    classNames(\n        'switcher',\n        {\n            [`switcher-checked bg-${switcherColor.value} dark:bg-${switcherColor.value}`]:\n                switcherChecked.value || controlProps.value.checked,\n        },\n        { 'switcher-disabled': props.disabled },\n        className\n    )\n)\n</script>\n\n<template>\n    <label :class=\"switcherClass\" v-bind=\"restAttrs\">\n        <input\n            type=\"checkbox\"\n            :disabled=\"disabled\"\n            :readonly=\"readOnly\"\n            :name=\"name\"\n            v-bind=\"{ ...controlProps }\"\n            @change=\"handleChange\"\n        />\n        <Spinner\n            v-if=\"isLoading\"\n            :class=\"\n                classNames(\n                    'switcher-toggle-loading',\n                    switcherChecked ? 'switcher-checked-loading' : 'switcher-uncheck-loading'\n                )\n            \"\n        ></Spinner>\n        <div v-else class=\"switcher-toggle\" />\n        <span class=\"switcher-content\">\n            <slot v-if=\"switcherChecked\" name=\"checked\"></slot>\n            <slot v-else name=\"unchecked\"></slot>\n        </span>\n    </label>\n</template>\n\n<style scoped></style>\n"],"names":["themeColor","primaryColorLevel","inject","DEFAULT_CONFIG","switcherChecked","ref","props","watch","value","controlProps","computed","checked","switcherColor","className","restAttrs","useAttrs","handleChange","nextChecked","emits","switcherClass","classNames"],"mappings":"iZAMc,CACV,aAAc,EAClB,CAAA,4QAeM,CAAE,WAAAA,EAAY,kBAAAC,CAAiB,EAAKC,EAAO,SAAUC,CAAc,EAEnEC,EAAkBC,EAAIC,EAAM,gBAAkBA,EAAM,UAAU,EAEpEC,EACI,IAAMD,EAAM,WACXE,GAAS,CACF,OAAOA,EAAU,MACjBJ,EAAgB,MAAQI,EAEhC,CAAC,EAcL,MAAMC,EAAeC,EAXG,IAAK,CAGzB,IAAIC,EAAU,CAAE,MAFGP,EAAgB,OAInC,OAAIE,EAAM,iBACNK,EAAQ,eAAiBL,EAAM,gBAE5BK,CACX,CAE6C,EAEvCC,EAAgBF,EAAS,IAAMJ,EAAM,OAAS,GAAGN,KAAcC,GAAmB,EAElF,CAAE,MAAOY,EAAW,GAAGC,CAAW,EAAGC,EAAQ,EAE7CC,EAAe,IAAK,CACtB,MAAMC,EAAc,CAACb,EAAgB,MACjCE,EAAM,UAAYA,EAAM,UAAYA,EAAM,YAG1C,OAAOA,EAAM,WAAe,IAC5BY,EAAM,oBAAqBD,CAAW,EAEtCC,EAAM,oBAAqB,CAACd,EAAgB,KAAK,EAErDA,EAAgB,MAAQa,EAC5B,EAEME,EAAgBT,EAAS,IAC3BU,EACI,WACA,CACI,CAAC,uBAAuBR,EAAc,iBAAiBA,EAAc,OAAO,EACxER,EAAgB,OAASK,EAAa,MAAM,SAEpD,CAAE,oBAAqBH,EAAM,QAAQ,EACrCO,CAAS,CACZ;;;;;;;;;;"}