{"version":3,"file":"CheckBox.stories-052aa935.js","sources":["../../src/components/ui/CheckBox/CheckBox.vue"],"sourcesContent":["<script>\nexport default {\n    inheritAttrs: false,\n}\n</script>\n<script setup>\nimport { computed, inject, onBeforeMount, ref, useAttrs } from 'vue'\nimport { DEFAULT_CONFIG } from '../utils/constant.js'\nimport classNames from 'classnames'\n\nconst props = defineProps({\n    disabled: Boolean,\n    readOnly: Boolean,\n    defaultChecked: Boolean,\n    color: String,\n    modelValue: [Boolean, String, Number],\n    field: Boolean,\n    value: [Boolean, String, Number],\n})\n\nconst emits = defineEmits(['update:modelValue'])\n\nconst { themeColor, primaryColorLevel } = inject('config', DEFAULT_CONFIG)\n\nconst groupValue = inject('value', null)\nconst name = inject('name', null)\nconst injectedColor = inject('color', null)\nconst onGroupChange = inject('onGroupChange', null)\n\nconst isChecked = () => {\n    if (typeof groupValue !== 'undefined' && typeof props.value !== 'undefined') {\n        return groupValue.some((i) => i === props.value)\n    }\n    return props.modelValue || props.defaultChecked\n}\n\nconst checkboxChecked = ref(false)\n\nconst getControlProps = () => {\n    let checkedValue = checkboxChecked.value\n\n    let groupChecked = { checked: checkedValue }\n    let singleChecked = { value: props.value }\n\n    if (props.modelValue) {\n        singleChecked.checked = props.modelValue\n    }\n\n    if (props.field) {\n        checkedValue = typeof props.field === 'boolean' ? props.field : props.defaultChecked\n        singleChecked = { value: checkedValue, checked: checkedValue }\n    }\n\n    if (typeof groupValue !== 'undefined') {\n        groupChecked = { checked: groupValue.includes(props.value) }\n    }\n\n    if (props.defaultChecked) {\n        singleChecked.defaultChecked = props.defaultChecked\n    }\n    return typeof groupValue !== 'undefined' ? groupChecked : singleChecked\n}\n\nconst controlProps = computed(getControlProps)\n\nconst onCheckboxChange = () => {\n    let nextChecked = !checkboxChecked.value\n\n    if (props.disabled || props.readOnly) {\n        return\n    }\n\n    checkboxChecked.value = nextChecked\n    emits('update:modelValue', nextChecked)\n\n    onGroupChange?.(props.value, nextChecked)\n}\n\nconst checkboxColor = props.color || injectedColor || `${themeColor}-${primaryColorLevel}`\n\nconst checkboxDefaultClass = `checkbox text-${checkboxColor}`\nconst labelDefaultClass = `checkbox-label`\n\nconst { class: className, ...restAttrs } = useAttrs()\n\nonBeforeMount(() => {\n    checkboxChecked.value = isChecked()\n})\n</script>\n\n<template>\n    <label :class=\"classNames(labelDefaultClass, { disabled: props.disabled }, className)\" v-bind=\"restAttrs\">\n        <input\n            ref=\"checkboxRef\"\n            :class=\"classNames(checkboxDefaultClass, { disabled: props.disabled })\"\n            type=\"checkbox\"\n            :disabled=\"disabled\"\n            :readonly=\"readOnly\"\n            :name=\"name\"\n            v-bind=\"controlProps\"\n            @change=\"onCheckboxChange\"\n        />\n        <span :class=\"{ 'ltr:ml-2 rtl:mr-2': true, 'opacity-50': disabled }\">\n            <slot />\n        </span>\n    </label>\n</template>\n\n<style scoped></style>\n"],"names":["__default__","labelDefaultClass","themeColor","primaryColorLevel","inject","DEFAULT_CONFIG","groupValue","name","injectedColor","onGroupChange","isChecked","props","i","checkboxChecked","ref","controlProps","computed","checkedValue","groupChecked","singleChecked","onCheckboxChange","nextChecked","emits","checkboxDefaultClass","className","restAttrs","useAttrs","onBeforeMount"],"mappings":"6TACAA,EAAe,CACX,aAAc,IAElBC,EAAA,2QAkBM,CAAE,WAAAC,EAAY,kBAAAC,CAAiB,EAAKC,EAAO,SAAUC,CAAc,EAEnEC,EAAaF,EAAO,QAAS,IAAI,EACjCG,EAAOH,EAAO,OAAQ,IAAI,EAC1BI,EAAgBJ,EAAO,QAAS,IAAI,EACpCK,EAAgBL,EAAO,gBAAiB,IAAI,EAE5CM,EAAY,IACV,OAAOJ,EAAe,KAAe,OAAOK,EAAM,MAAU,IACrDL,EAAW,KAAMM,GAAMA,IAAMD,EAAM,KAAK,EAE5CA,EAAM,YAAcA,EAAM,eAG/BE,EAAkBC,EAAI,EAAK,EA2B3BC,EAAeC,EAzBG,IAAK,CACzB,IAAIC,EAAeJ,EAAgB,MAE/BK,EAAe,CAAE,QAASD,GAC1BE,EAAgB,CAAE,MAAOR,EAAM,KAAK,EAExC,OAAIA,EAAM,aACNQ,EAAc,QAAUR,EAAM,YAG9BA,EAAM,QACNM,EAAe,OAAON,EAAM,OAAU,UAAYA,EAAM,MAAQA,EAAM,eACtEQ,EAAgB,CAAE,MAAOF,EAAc,QAASA,CAAY,GAG5D,OAAOX,EAAe,MACtBY,EAAe,CAAE,QAASZ,EAAW,SAASK,EAAM,KAAK,IAGzDA,EAAM,iBACNQ,EAAc,eAAiBR,EAAM,gBAElC,OAAOL,EAAe,IAAcY,EAAeC,CAC9D,CAE6C,EAEvCC,EAAmB,IAAK,CAC1B,IAAIC,EAAc,CAACR,EAAgB,MAE/BF,EAAM,UAAYA,EAAM,WAI5BE,EAAgB,MAAQQ,EACxBC,EAAM,oBAAqBD,CAAW,EAEtCZ,GAAA,MAAAA,EAAgBE,EAAM,MAAOU,GACjC,EAIME,EAAuB,iBAFPZ,EAAM,OAASH,GAAiB,GAAGN,KAAcC,MAKjE,CAAE,MAAOqB,EAAW,GAAGC,CAAW,EAAGC,EAAQ,EAEnD,OAAAC,EAAc,IAAK,CACfd,EAAgB,MAAQH,GAC5B,CAAC;;;;;;;;"}