import{u as ee,r as p,i as N,c as u,a as te,o as ae,b as h,m as z,t as E,d as r,e as k,f as W,g as M,w as P,h as T,n as se,j as le,k as c}from"./vue.esm-bundler-9eb4c8aa.js";import{S as G,D as ie,C as ue}from"./constant-dee45eb4.js";import{l as v}from"./lodash-9252d092.js";import{c as ne}from"./index-778010da.js";const oe=["disabled","value"],re=le({inheritAttrs:!1}),fe="input",de=Object.assign(re,{__name:"Input",props:{asElement:{type:String,default:"input"},type:{type:String,default:"text"},size:{type:String,validator(a){return[G.LG,G.SM,G.MD].includes(a)}},invalid:Boolean,placeholder:String,modelValue:[String,Number,Date],value:[String,Number,Date],unstyle:Boolean,disabled:Boolean,form:Object,field:Object},emits:["update:modelValue","focus","blur","change","keydown","click","keyup","input"],setup(a,{expose:Z,emit:n}){var O,j;const t=a,{class:w,style:S,...H}=ee(),C={click:e=>n("click",e),keydown:e=>n("keydown",e),keyup:e=>n("keyup",e),focus:e=>n("focus",e),blur:e=>n("blur",e),input:e=>{n("update:modelValue",e.target.value),n("input",e)},change:e=>n("change",e)},D=p(0),I=p(0),{themeColor:m,controlSize:U,primaryColorLevel:y,direction:R}=N("config",ie),q=(O=N("form",{}))==null?void 0:O.size,J=(j=N("inputGroup",{}))==null?void 0:j.size,V=u(()=>t.size||J||q||U),x=u(()=>t.type==="textarea"),A=u(()=>{let e=!1;if(!v.isEmpty(t.form)){const{touched:i,errors:s}=t.form,o=v.get(i,t.field.name),b=v.get(s,t.field.name);e=o&&b}return typeof t.invalid=="boolean"&&(e=t.invalid),e}),l=te(),K=u(()=>`input-${V.value} h-${ue[V.value]}`),Q=u(()=>`focus:ring-${m}-${y} focus-within:ring-${m}-${y} focus-within:border-${m}-${y} focus:border-${m}-${y}`),X=u(()=>`input-wrapper ${t.prefix||t.suffix?w:""}`),Y=u(()=>ne(fe,!x.value&&K.value,!A.value&&Q.value,!l.prefix&&!l.suffix?w:"",t.disabled&&"input-disabled",A.value&&"input-invalid",x.value&&"input-textarea")),f=p(null),d=p(null),_=()=>{var s,o;if(!f.value&&!d.value)return;const e=(s=f==null?void 0:f.value)==null?void 0:s.offsetWidth,i=(o=d==null?void 0:d.value)==null?void 0:o.offsetWidth;v.isNil(e)&&v.isNil(i)||(e&&(D.value=e),i&&(I.value=i))};ae(()=>_());const B=e=>.0625*e,L=u(()=>{const e=`${B(D.value)+1}rem`,i=`${B(I.value)+1}rem`,s={};return R==="ltr"&&(l.prefix&&(s.paddingLeft=e),l.suffix&&(s.paddingRight=i)),R==="rtl"&&(l.prefix&&(s.paddingRight=e),l.suffix&&(s.paddingLeft=i)),s}),$=u(()=>({className:t.unstyle?"":Y.value,disabled:t.disabled,type:t.type,placeholder:t.placeholder,...t.field,...H})),g=p();return Z({prefixNode:f,suffixNode:d,focus:()=>g.value.focus()}),(e,i)=>{var s,o,b,F;return x.value?(c(),h("textarea",z({key:0,ref_key:"inputRef",ref:g},$.value,{disabled:a.disabled,value:a.modelValue??a.value,style:r(S)},E(C,!0)),null,16,oe)):((s=r(l))!=null&&s.prefix||(o=r(l))!=null&&o.suffix)&&!x.value?(c(),h("span",{key:1,class:se(X.value)},[(b=r(l))!=null&&b.prefix?(c(),h("div",{key:0,ref_key:"prefixNode",ref:f,class:"input-suffix-start"},[k(e.$slots,"prefix")],512)):W("",!0),(c(),M(T(a.asElement),z({ref_key:"inputRef",ref:g},$.value,{value:a.modelValue??a.value,disabled:a.disabled,style:{...L.value,...r(S)}},E(C)),{default:P(()=>[k(e.$slots,"default")]),_:3},16,["value","disabled","style"])),(F=r(l))!=null&&F.suffix?(c(),h("div",{key:1,ref_key:"suffixNode",ref:d,class:"input-suffix-end"},[k(e.$slots,"suffix")],512)):W("",!0)],2)):(c(),M(T(a.asElement),z({key:2,ref_key:"inputRef",ref:g},$.value,{disabled:a.disabled,value:a.modelValue??a.value,style:{...L.value,...r(S)}},E(C)),{default:P(()=>[k(e.$slots,"default")]),_:3},16,["disabled","value","style"]))}}}),ye=de;export{ye as I};
//# sourceMappingURL=Input-a0010c67.js.map
